<%- include("../../views/partials/user/header") %>
<!-- <section class="content-main mt-80 mb-80">

   <div class="card mx-auto card-login col-4">
       <div class="card-body">
           <h4 class="card-title mb-4">Email</h4>
           <form method="post" action="" onsubmit="return validateLoginForm()">
               <div class="mb-3">
                   <input class="form-control" name="email" placeholder="Email" type="text" id="email">
                   <div class="error-message" id="email-error"></div>
               </div>
               <div class="mb-4">
                   <button type="submit" class="btn btn-primary w-100">Verify</button>
               </div>
           </form>
         
          
       </div>
   </div>
</section> -->

<section class="content-main mt-80 mb-80">
    <div class="card mx-auto card-login col-4">
        <div class="card-body">
            <h4 class="card-title mb-4">Change Password</h4>

            <!-- Show Error Messages -->
            <% if (errors && errors.length > 0) { %>
                <div class="alert alert-danger">
                    <ul>
                        <% errors.forEach(error => { %>
                            <li><%= error %></li>
                        <% }) %>
                    </ul>
                </div>
            <% } %>

            <!-- Show Success Message -->
            <% if (success) { %>
                <div class="alert alert-success">
                    <%= success %>
                </div>
            <% } %>

            <!-- Error Message Container (for client-side validation) -->
            <div class="error-messages"></div> <!-- This will show the error messages -->

            <form method="post" action="/change-password">
                <div class="mb-3">
                    <input class="form-control" name="email" placeholder="Email" >
                </div>
                <div class="mb-4">
                    <button type="submit" class="btn btn-primary w-100">Verify</button>
                </div>
            </form>
        </div>
    </div>
</section>



<script>

document.addEventListener("DOMContentLoaded", function () {
    const form = document.querySelector("form");
    form.addEventListener("submit", function (event) {
        const emailInput = document.querySelector("input[name='email']");
        const errorContainer = document.querySelector(".error-messages");

        // Clear previous error messages
        errorContainer.innerHTML = '';

        // Validate email
        if (!emailInput.value) {
            event.preventDefault(); // Prevent form submission
            errorContainer.innerHTML = '<div class="alert alert-danger">Please enter your email.</div>';
        }
    });
});



//    function validateLoginForm() {
//        const emailInput = document.getElementById('email');
//        const emailError = document.getElementById('email-error');
//        const emailValue = emailInput.value.trim();
//        const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;


//        if (emailValue === '') {
//            emailError.textContent = 'Please enter your email.';
//            emailInput.classList.add('is-invalid');
//            return false;
//        } else if (!emailValue.match(emailPattern)) {
//            emailError.textContent = 'Please enter a valid email address';
//            emailInput.classList.add('is-invalid');
//            return false;
//        } else {
//            emailError.textContent = '';
//            emailInput.classList.remove('is-invalid');
//            return true;
//        }
//    }

</script>
<%- include("../../views/partials/user/footer") %>

